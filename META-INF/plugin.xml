<idea-plugin url="https://github.com/Haehnchen/idea-php-phpunit-plugin">
    <id>de.espend.idea.php.phpunit</id>
    <name>PHPUnit Enhancement</name>
    <version>2.4</version>
    <vendor email="daniel@espendiller.net" url="http://espend.de">Daniel Espendiller</vendor>

    <description><![CDATA[

    <p>Fork of <a href="https://github.com/maxfilatov/phpuaca/">PHPUnit Autocomplete Assistant</a></p>

    <p>PhpStorm plugin to provide smart autocomplete, code navigation and refactoring features for mocked class methods.</p>
    <p><h2>Feature list</h2></p>
    <ul style="margin-bottom: 8px;">
        <li>
            <p>method autocomplete for class, abstract class and trait mock objects;</p>
            <ul>
                <li>type providers: <tt>getMock</tt>, <tt>getMockForAbstractClass</tt>, etc. will return mock object with methods of mocking class and <tt>PHPUnit_Framework_MockObject_MockObject</tt>;</li>
                <li>
                    <p>supported PHPUnit methods:</p>
                    <p><tt>PHPUnit_Framework_MockObject_MockBuilder::setMethods</tt></p>
                    <p><tt>PHPUnit_Framework_TestCase::getMock</tt></p>
                    <p><tt>PHPUnit_Framework_TestCase::getMockClass</tt></p>
                    <p><tt>PHPUnit_Framework_TestCase::getMockForAbstractClass</tt></p>
                    <p><tt>PHPUnit_Framework_TestCase::getMockForTrait</tt></p>
                    <p><tt>PHPUnit_Framework_MockObject_Builder_InvocationMocker::method</tt></p>
                </li>
            </ul>
        </li>
        <li>code navigation (go to declaration, find usages, etc.) and refactoring (rename methods);</li>
        <li>highlighting of incorrect method usages;</li>
        <li>Prophecy support.</li>
    </ul>
  ]]></description>

    <change-notes><![CDATA[

    <h3>2.4</h3>
    <ul>
        <li>Add mock method intention / generator <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/5">#5</a></li>
    </ul>

    <h3>2.3</h3>
    <ul>
        <li>Pipe property declaration of setUp test method <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/11">#11</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/13">#13</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/14">#14</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/17">#17</a></li>
        <li>Migrate createMock, getMock and reveal types to chaining method detection <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/11">#11</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/13">#13</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/14">#14</a> <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/17">#17</a></li>
        <li>Optimize completion for createMock to use chaining detection</li>
    </ul>

    <h3>2.2.1</h3>
    <ul>
        <li>Add MockBuilder->getMock TypeProvider <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/10">#10</a></li>
    </ul>

    <h3>2.2</h3>
    <ul>
        <li>Reimplement magic Prophecy method <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/8">#8</a></li>
        <li>Add Prophecy reveal type provider <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/9">#9</a></li>
    </ul>

    <h3>2.1</h3>
    <ul>
        <li>Add custom linemarker runner for units test method and classes and provide intention <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/4">#4</a></li>
        <li>Reimplement TypeProvider in the correct way without index access <a href="https://github.com/Haehnchen/idea-php-phpunit-plugin/issues/6">#6</a></li>
    </ul>

    <h3>2.0</h3>
    <ul>
        <li>Initial release fork of <a href="https://github.com/maxfilatov/phpuaca/">maxfilatov/phpuaca</a></li>
        <li>Support class constants in createMock method completion</li>
    </ul>
  ]]>
    </change-notes>

    <idea-version since-build="171.3780"/>

    <depends>com.jetbrains.php</depends>
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.jetbrains.php">
        <typeProvider3 implementation="de.espend.idea.php.phpunit.type.MockProphecyTypeProvider"/>
        <typeProvider3 implementation="de.espend.idea.php.phpunit.type.ProphecyTypeProvider"/>
        <typeProvider3 implementation="de.espend.idea.php.phpunit.type.RevealProphecyTypeProvider"/>
        <typeProvider3 implementation="de.espend.idea.php.phpunit.type.GetMockTypeProvider"/>
        <typeProvider3 implementation="de.espend.idea.php.phpunit.type.SetUpTypeProvider"/>
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <annotator language="PHP" implementationClass="com.phpuaca.annotator.StringAnnotator"/>
        <completion.confidence language="PHP" implementationClass="com.phpuaca.completion.StringCompletionConfidence"
                               id="asTrue" order="first"/>

        <completion.contributor language="PHP" implementationClass="com.phpuaca.completion.StringCompletionContributor"/>

        <completion.contributor language="PHP" implementationClass="de.espend.idea.php.phpunit.completion.PhpUnitCompletionContributor"/>
        <psi.referenceContributor language="PHP" implementation="de.espend.idea.php.phpunit.reference.PhpUnitReferenceContributor"/>

        <psi.referenceContributor language="PHP" implementation="com.phpuaca.reference.StringReferenceContributor"/>

        <codeInsight.lineMarkerProvider language="PHP" implementationClass="de.espend.idea.php.phpunit.linemarker.TestRunLineMarkerProvider"/>

        <intentionAction>
            <className>de.espend.idea.php.phpunit.intention.TestRunIntentionAction</className>
            <category>PHPUnit</category>
            <descriptionDirectoryName>TestRunIntentionAction</descriptionDirectoryName>
        </intentionAction>

        <intentionAction>
            <className>de.espend.idea.php.phpunit.intention.AddMockMethodIntention</className>
            <category>PHPUnit</category>
            <descriptionDirectoryName>AddMethodIntention</descriptionDirectoryName>
        </intentionAction>
    </extensions>

    <application-components>
    </application-components>

    <project-components>
    </project-components>

    <actions>
    </actions>

</idea-plugin>
